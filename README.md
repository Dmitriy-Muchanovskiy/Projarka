# Projarka
В проэкте содержатся настройки для разворачивания через Docker сервера БД, Frontend и Backend, для каждого свой собственный.

Сервер BD
Поднят на MariaDB дистрибутиве, по причине меньших проблем с паролями при подключении Backend'a.
Используется стандратный порт 3306

Backend
Поднят на Python:latest, используется библиотеки Flask, Flask-cors, mysql.connector, mysql-connector-python
Взят рендомный порт 8888, мапит этот же порт на 8888 порт хоста, по причине проблемы с Frontend'ом, описанными ниже.

Frontend
Поднят образ Nginx, без доп конфига, просто замена дефолтной страницы.
ВАЖНО!. Необходимо прописать в файле front/index.html локальный IP-адрес хоста на которого будет разворачиваться, это требуется по причине нехватки времени с разбором проблемы -  Backend с Frontend'a  пингуется и Curl'иться корректно, но Frontend не может соединиться через Python.mysql.connection по IP-адресу их сети, но успешно цепляется если его пустить через локальный IP хоста.

Для лёгкой установки создан Makefile

Чтобы  всё запустилось, необходимо скачать все файлы и папки и запускать команду make из той же директории, куда всё скачается.
К примеру: скачали файлы в и директорию /home/user/somefolder/Projarka , то нужно находится в этой же директории, чтобы make запускалась без доп указания папок, а у остальных был путь db/.. sh/.. и т.д.

При вводе make выведен доступные команды: 
help - общая подсказка по командам

deploy - развёртывание всех контейнеров, создание и наполнение БД 
Здесь есть нюанс, на создание и запуск службы БД выдаётся 30 секунд таймаута. Если хост медленный, то этого таймаута может не хватить и тогда БД не настроиться и придётся всё удалять(контейнеры и образы) и создавать заново. Цифра прописана вот в этом файле sh/doc-net-image-cont-db_create.sh, при надобности можно исправить в любую сторону.
update - изменение строки в таблице, чтобы выдавался слегка изменённый текст.Так же перезапускает Backend, т.к. он не обновляется инфу на лету.
restore - возврат к исходному состоянию таблицы. Так же перезапускает Backend.
delete_containers - удаление контейнеров
delete_images - удаление образов
