Projarka
======
В проэкте содержатся настройки для разворачивания через Docker-Compose сервера ``БД``, ``Frontend`` и ``Backend``, для каждого свой собственный.

Сервер BD
=========
Поднят на MariaDB дистрибутиве, по отсутсвия модулей для подключения к Mysql серверу старше 8 версии.

Используется стандартный порт 3306

Backend
-------------
На Python, используется библиотеки ``Flask, Flask-cors, mysql.connector, mysql-connector-python, flask_sqlalchemy flask_script flask_migrate``

Взят рендомный порт 8888, мапит этот же порт на 8888 порт хоста, по причине проблемы с Frontend'ом, описанными ниже.

Frontend
------------
Поднят образ ``Nginx``, без доп конфига, просто замена дефолтной страницы.Страница на писана на JavaScript


Общая информация
===================================
Чтобы  всё запустилось, необходимо скачать все файлы и папки и запускать команду make из той же директории, куда всё скачается.
К примеру: Скачанные файлы лежат в директории /home/user/somefolder/Projarka , тогда нужно находится в этой же директории, чтобы make запускался без доп указания папок, а у .. остальных был путь Docker/.. и т.д.

ВАЖНО!!
-------

Необходимо прописать в файле ``docker/front/index.html`` локальный IP-адрес хоста на которого будет разворачиваться, это требуется по причине нехватки времени с разбором проблемы -  Backend с Frontend'a  пингуется и Curl'иться корректно, но Frontend не может соединиться через Html по имени ПК или IP-адресу, но успешно цепляется если его пустить через локальный IP хоста.

Make
======
Запускать обязательно от root пользователя или от sudo

При вводе make выведен доступные команды: 

help
-----
Общая подсказка по командам

deploy - развёртывание всех контейнеров, создание и наполнение БД 
--------------------------------
Docker-Compose создаёт контейнеры для БД, Frontend и BackEnd, а так же создаёт первоначальную схему таблицы и наполняет её.

Есть вероятность, что машина может затупить и не наполнить БД, это видно по статусу docker ps, там тогда projarka-back постоянно перезапускается, ноебходимо просто ещё раз вызвать make deploy

migrate
----------
Инциализация БД и ей Миграция( Сохранение текущей схемы БД)

upgrade
-------------
Изменение схемы таблицы (добавление двух дополнительных столбцов)

downgrade
------------
Возврат на первоначальную схему таблицы

stop 
---------------
Остановка контейнеров и удаление их образов.
